{{ define "main" }}

{{ $orderedRecents :=  .Data.Terms.Alphabetical.Reverse }}
{{ $idx := 0 }}
{{ $total := len $orderedRecents }}
{{ $pageTitle := .Page.Title }}
{{ range $i, $rec := $orderedRecents }}
{{ if eq $rec.Term $pageTitle }}
{{ $idx = $i }}
{{ end }}
{{ end }}

<div class="columns">
    <div class="column is-full">
        <h3 class="title is-3 has-text-centered">Recent Signs</h3>
        <nav class="level">
            <div class="level-left">
                {{ if gt $idx 0 }}
                {{ with (index $orderedRecents (sub $idx 1)) }}
                {{ $fixedDate := printf "%s-%s" .Term "01" }}
                <div class="level-item">
                    <i class="fa-solid fa-arrow-left"></i>
                    <a href="{{.Page.RelPermalink}}">{{time.Format "January 2006"  $fixedDate}}</a>
                </div>
                {{ end }}
                {{ end }}
            </div>
            <div class="level-right">
                {{ if lt $idx (sub $total 1) }}
                {{ with (index $orderedRecents (add $idx 1)) }}
                {{ $fixedDate := printf "%s-%s" .Term "01" }}
                <div class="level-item">
                    <a href="{{.Page.RelPermalink}}">{{time.Format "January 2006"  $fixedDate}}</a>
                    <i class="fa-solid fa-arrow-right"></i>
                </div>
                {{ end }}
                {{ end }}
            </div>
        </nav>
        <div class="columns is-centered is-multiline">
        {{ range  (first 1  .Data.Terms.Alphabetical.Reverse)  }}
        {{ range .Pages }}
        {{.Render "tile"}}
        {{ end }}
        {{ end }}
        </div>
    <nav class="level">
        <div class="level-left">
            {{ if gt $idx 0 }}
            {{ with (index $orderedRecents (sub $idx 1)) }}
            {{ $fixedDate := printf "%s-%s" .Term "01" }}
            <div class="level-item">
                <i class="fa-solid fa-arrow-left"></i>
                <a href="{{.Page.RelPermalink}}">{{time.Format "January 2006"  $fixedDate}}</a>
            </div>
            {{ end }}
            {{ end }}
        </div>
        <div class="level-right">
            {{ if lt $idx (sub $total 1) }}
            {{ with (index $orderedRecents (add $idx 1)) }}
            {{ $fixedDate := printf "%s-%s" .Term "01" }}
            <div class="level-item">
                <a href="{{.Page.RelPermalink}}">{{time.Format "January 2006"  $fixedDate}}</a>
                <i class="fa-solid fa-arrow-right"></i>
            </div>
            {{ end }}
            {{ end }}
        </div>
    </nav>
</div>
</div>

{{ end }}